---
title: C++ Format的用法总结
date: 2018-10-02 09:09:09
categories: cpp
---
# C++ Format的用法总结

##函数声明 
  function Format(const Format: string; const Args: array of const): string; overload; 
  
##函数功能 
  事实上Format方法有两个种形式，另外一种是三个参数的，主要区别在于它是线程安全的， 但并不多用，所以这里只对第一个介绍。Format参数是一个格式字符串，用于格式化Args里面的值的。Args是一个变体数组，即它里面可以有多个参数，而且每个参数可以不同。 例如： 
```c++
Format("my name is %6s","wind");   返回的是：my name is wind 
```
##函数参数 
  Format里面可以写普通的字符串，比如"my name is" ，但有些格式指令字符具有特殊意义，比如"%6s" 
  格式指令具有以下的形式： "%" \[index ":"] \["-"] [width] \["." prec] type 
  它是以"%"开始,而以type结束，type表示一个具体的类型。中间是用来格式化type类型的指令字符，是可选的。各个参数的含义与用途如下；   [type] 
type参数可选的类型有d，u，f，e，g，n，m，p，s，x. 

(1) d 十进制数，表示一个整型值，u 和d一样是整型值，但它是无符号的，而如果它对应的值是负的，则返回时是一个2的32次方减去这个负数的绝对值 。

例如：

`Format("this is %u",-2);`   

返回的是：

`this is 4294967294   `

(2)f 对应浮点数 

(3)e科学表示法，对应整型数和浮点数   
例如：

`Format("this is %e",-2.22);`  

返回的是：

`this is -2.220000E+000 `

(4)g 这个只能对应浮点型，且它会将值中多余的数去掉   
例如：

`Format("this is %g",02.200); ` 

返回的是：

`this is 2.2 `

(5)n 只能对应浮点型，将值转化为号码的形式，看一个例子就明白了   

例如：

`Format("this is %n",4552.2176); `  

返回的是：

`this is 4,552.22  `

注意：一是，只表示到小数后两位;二是，即使小数没有被截断，它也不会也像整数部分一样有逗号来分开的 

(6)m 钱币类型，但关于货币类型有更好的格式化方法，这里只是简单的格式化，另外它只对应于浮点值 
  例如：
```c++
Format("this is %m",9552.21); 
```

